import React from "react";

import { QRCodeSVG } from "qrcode.react";

interface QRCodeProps {
  challengeUrl: string;
  size: number;
  level?: "L" | "M" | "Q" | "H";
  className?: string;
}

const SelfSvg = `
<svg width="104" height="32" viewBox="0 0 104 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="104" height="31.5" fill="white"/>
<path d="M28.1416 25.0276H16.8487C16.4035 25.0276 16.0414 24.6699 16.0414 24.228V21.4124C16.0414 20.9714 16.4026 20.6127 16.8487 20.6127H28.0064C29.1408 20.6127 29.7893 19.9976 29.7893 19.2213C29.7893 18.4451 29.1408 17.8037 28.0064 17.8037H21.3891C17.2836 17.8037 14.9609 15.3159 14.9609 12.1052C14.9609 8.89444 17.6891 6.30078 21.3891 6.30078H33.1414C33.5867 6.30078 33.9487 6.65846 33.9487 7.10042V9.91599C33.9487 10.357 33.5876 10.7156 33.1414 10.7156H21.6056C20.3096 10.7156 19.7689 11.4647 19.7689 12.107C19.7689 12.7494 20.3899 13.4179 21.6056 13.4179H27.9799C31.8151 13.4179 34.5972 15.6923 34.5972 19.2232C34.5972 22.4068 32.1394 25.0285 28.1416 25.0285V25.0276Z" fill="black"/>
<path d="M73.7575 6.30078H89.7533C90.1985 6.30078 90.5606 6.65846 90.5606 7.10042V9.91599C90.5606 10.357 90.1995 10.7156 89.7533 10.7156H78.6732C78.2279 10.7156 77.8658 11.0733 77.8658 11.5153V12.6726C77.8658 13.1136 78.227 13.4722 78.6732 13.4722H89.4026C89.8478 13.4722 90.2099 13.8299 90.2099 14.2718V17.0603C90.2099 17.5013 89.8488 17.8599 89.4026 17.8599H78.6732C78.2279 17.8599 77.8658 18.2176 77.8658 18.6595V24.2308C77.8658 24.6718 77.5047 25.0304 77.0585 25.0304H73.7565C73.3113 25.0304 72.9492 24.6727 72.9492 24.2308V7.10042C72.9492 6.6594 73.3103 6.30078 73.7565 6.30078H73.7575Z" fill="black"/>
<path d="M54.9587 6.30078H58.2607C58.706 6.30078 59.068 6.65846 59.068 7.10042V19.814C59.068 20.2551 59.4291 20.6137 59.8753 20.6137H70.7399C71.1852 20.6137 71.5472 20.9714 71.5472 21.4133V24.2289C71.5472 24.6699 71.1861 25.0285 70.7399 25.0285H54.9597C54.5144 25.0285 54.1523 24.6708 54.1523 24.2289V7.10042C54.1514 6.65846 54.5125 6.30078 54.9587 6.30078Z" fill="black"/>
<path d="M36.5104 6.30078H51.9391C52.3843 6.30078 52.7464 6.65846 52.7464 7.10042V9.91599C52.7464 10.357 52.3853 10.7156 51.9391 10.7156H41.3722C40.927 10.7156 40.5649 11.0733 40.5649 11.5153V12.6726C40.5649 13.1136 40.926 13.4722 41.3722 13.4722H50.9673C51.4125 13.4722 51.7746 13.8299 51.7746 14.2718V17.0603C51.7746 17.5013 51.4135 17.8599 50.9673 17.8599H41.3722C40.927 17.8599 40.5649 18.2176 40.5649 18.6595V19.8169C40.5649 20.2579 40.926 20.6165 41.3722 20.6165H51.8313C52.2765 20.6165 52.6386 20.9742 52.6386 21.4161V24.2317C52.6386 24.6727 52.2775 25.0313 51.8313 25.0313H36.5104C36.0652 25.0313 35.7031 24.6737 35.7031 24.2317V7.10042C35.7031 6.65846 36.0642 6.30078 36.5104 6.30078Z" fill="black"/>
<path d="M94.8749 10.6208C93.6613 10.6208 92.7227 9.6821 92.7227 8.45819C92.7227 7.23946 93.6613 6.30078 94.8749 6.30078C96.104 6.30078 97.0427 7.23946 97.0427 8.45819C97.0427 9.6821 96.104 10.6208 94.8749 10.6208ZM94.8749 10.3044C95.9225 10.3044 96.7263 9.50059 96.7263 8.45819C96.7263 7.40542 95.9225 6.60157 94.8749 6.60157C93.8273 6.60157 93.0234 7.4106 93.0234 8.45819C93.0234 9.50059 93.8273 10.3044 94.8749 10.3044ZM94.097 9.63543C94.0658 9.63543 94.0451 9.61468 94.0451 9.58357V7.34318C94.0451 7.31207 94.0658 7.29132 94.097 7.29132H95.1238C95.518 7.29132 95.8136 7.59211 95.8136 7.99663C95.8136 8.25593 95.6891 8.45819 95.4868 8.57747C95.4609 8.59821 95.4557 8.61896 95.4661 8.65007L95.855 9.57319C95.8706 9.6095 95.8499 9.63543 95.8136 9.63543H95.4142C95.3883 9.63543 95.3676 9.62506 95.3572 9.59394L95.0097 8.71231C94.9993 8.68119 94.9786 8.67082 94.9527 8.67082H94.5637C94.5326 8.67082 94.5119 8.69156 94.5119 8.72268V9.58357C94.5119 9.61468 94.4911 9.63543 94.46 9.63543H94.097ZM95.0201 8.27668C95.2327 8.27668 95.3468 8.1574 95.3468 7.99663C95.3468 7.81512 95.2275 7.70102 95.0201 7.70102H94.5637C94.5326 7.70102 94.5119 7.72177 94.5119 7.75288V8.22481C94.5119 8.25593 94.5326 8.27668 94.5637 8.27668H95.0201Z" fill="black"/>
</svg>

`;

const QRCode: React.FC<QRCodeProps> = (props: QRCodeProps) => {
  return (
    <QRCodeSVG
      data-testid="qr-code"
      value={props.challengeUrl}
      size={props.size}
      level={props.level || "M"}
      marginSize={2}
      imageSettings={{
        src: `data:image/svg+xml,${SelfSvg}`,
        height: 32,
        width: 104,
        excavate: true,
      }}
      className={props.className}
      style={{ borderRadius: "16px" }}
    />
  );
};

export default QRCode;
